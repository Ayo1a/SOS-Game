# ×©×™×¤×•×¨×™× ×‘×§×•×“ ×”××©×—×§ SOS ğŸš€

## 1. `unmake_move(x, y)` ×œ× ××—×–×™×¨ ××ª ×”× ×™×§×•×“ ×œ××¦×‘ ×§×•×“×
### âŒ ××” ×”×‘×¢×™×”?
×‘×’×¨×¡×” ×”× ×•×›×—×™×ª, ×”×¤×•× ×§×¦×™×” `unmake_move(x, y)` ×¨×§ ××•×—×§×ª ××ª ×”××•×ª ××”×œ×•×—, ××š ×œ× ××—×–×™×¨×” ××ª ×”× ×™×§×•×“ ×œ×§×“××•×ª×•.  
×× × ×¢×©×” ××”×œ×š ×©×‘×• ×™×¦×¨× ×• "SOS" ×•×§×™×‘×œ× ×• × ×§×•×“×•×ª, ×‘×™×˜×•×œ ×”××”×œ×š ×™×©××™×¨ ××ª ×”× ×™×§×•×“ ×›××™×œ×• ×”××”×œ×š ×¢×“×™×™×Ÿ ×§×™×™×!

### âœ… ×©×™×¤×•×¨ ××•×¦×¢
× ×•×¡×™×£ ××‘× ×” × ×ª×•× ×™× ×©×™××—×¡×Ÿ ××ª ×”×©×™× ×•×™×™× ×‘× ×™×§×•×“, ×›×š ×©× ×•×›×œ ×œ×”×—×–×™×¨ ××•×ª× ×‘×¢×ª ×‘×™×˜×•×œ ××”×œ×š.  
× ×•×¡×™×£ ××—×¡× ×™×ª (stack) ×œ×›×œ ×©×—×§×Ÿ ×©×ª×¢×§×•×‘ ××—×¨ ×”×©×™× ×•×™×™× ×‘× ×™×§×•×“.

### ğŸ”¹ ××™××•×© ××©×•×¤×¨ ×©×œ `make_move` ×•- `unmake_move`:
```python
class SOSGame:
    def __init__(self):
        self.board = [[' ' for _ in range(8)] for _ in range(8)]
        self.current_player = SOSGame.PLAYER_1
        self.scores = {SOSGame.PLAYER_1: 0, SOSGame.PLAYER_2: 0}
        self.game_over = False
        self.move_history = []  # ××—×¡× ×™×ª ×œ××—×¡×•×Ÿ ××”×œ×›×™× ×•×”× ×™×§×•×“ ×”×§×•×“×
    
    def make_move(self, x, y, letter):
        if self.board[x][y] != ' ' or letter not in ('S', 'O'):
            raise ValueError("Invalid move")
        
        # ×©××™×¨×ª ×”××¦×‘ ×œ×¤× ×™ ×”××”×œ×š
        prev_scores = self.scores.copy()
        self.move_history.append((x, y, letter, prev_scores))

        self.board[x][y] = letter
        points = self.check_sos(x, y)
        self.scores[self.current_player] += points
        
        # ×”×—×œ×¤×ª ×ª×•×¨ ×× ×œ× ×§×™×‘×œ× ×• × ×§×•×“×•×ª
        if points == 0:
            self.current_player = 3 - self.current_player
        
        self.game_over = self.check_game_over()
    
    def unmake_move(self):
        if not self.move_history:
            return
        
        x, y, letter, prev_scores = self.move_history.pop()
        
        # ×©×—×–×•×¨ ××¦×‘ ×§×•×“×
        self.board[x][y] = ' '
        self.scores = prev_scores
        self.current_player = 3 - self.current_player  # ××—×–×™×¨×™× ××ª ×”×ª×•×¨ ×œ×©×—×§×Ÿ ×”×§×•×“×
        self.game_over = self.check_game_over()
```
### ğŸ¯ ×™×ª×¨×•× ×•×ª ×”×©×™×¤×•×¨:
âœ… ×‘×™×˜×•×œ ××œ× ×©×œ ××”×œ×š â€“ ××—×–×™×¨ ×’× ××ª ×”××•×ª ×•×’× ××ª ×”× ×™×§×•×“ ×œ××¦×‘ ×§×•×“×.  
âœ… ×œ× ××©× ×” ××ª ×©××¨ ×”××‘× ×” ×©×œ ×”×§×•×“, ×¨×§ ××•×¡×™×£ ××¢×§×‘ ×”×™×¡×˜×•×¨×™.  
âœ… ×©×™××•×©×™ ×¢×‘×•×¨ ××œ×’×•×¨×™×ª× MCTS, ×©×¦×¨×™×š ×œ×‘×“×•×§ ××¡×œ×•×œ×™× ×©×•× ×™× ×‘××©×—×§ ×•×œ×—×–×•×¨ ××—×•×¨×”.  

---

## 2. `check_game_over()` ×™×›×•×œ ×œ×”×™×•×ª ×—×›× ×™×•×ª×¨
### âŒ ××” ×”×‘×¢×™×”?
×›×¨×’×¢ `check_game_over()` ××¡×™×™× ××ª ×”××©×—×§ ×¨×§ ×›××©×¨ ×›×œ ×”×œ×•×— ××œ×, ××š ×™×™×ª×›×Ÿ ×©×”××©×—×§ ××‘×•×“ ×¢×‘×•×¨ ×©× ×™ ×”×©×—×§× ×™× ×¢×•×“ ×œ×¤× ×™ ×›×Ÿ.

### âœ… ×©×™×¤×•×¨ ××•×¦×¢
× ×‘×“×•×§ ×× × ×•×ª×¨×• ××”×œ×›×™× ×©×™×›×•×œ×™× ×œ×™×¦×•×¨ `"SOS"`, ×•×œ× ×¨×§ ×× ×”×œ×•×— ××œ×.

### ğŸ”¹ ××™××•×© ××©×•×¤×¨ ×©×œ `check_game_over`:
```python
def check_game_over(self):
    # ×× ×”×œ×•×— ××œ× â€“ ×”××©×—×§ ×”×¡×ª×™×™×
    if all(self.board[x][y] != ' ' for x in range(8) for y in range(8)):
        return True
    
    # ×‘×“×™×§×” ×× × ×•×ª×¨×• ××”×œ×›×™× ×©×™×›×•×œ×™× ×œ×™×¦×•×¨ "SOS"
    for x, y, letter in self.legal_moves():
        if self.would_form_sos(x, y, letter):
            return False  # ×™×© ×¢×“×™×™×Ÿ ××”×œ×š ×©×™×›×•×œ ×œ×©× ×•×ª ××ª ×”×ª×•×¦××”
    
    return True  # ××™×Ÿ ×™×•×ª×¨ ××”×œ×›×™× ××•×¢×™×œ×™×, ×”××©×—×§ × ×’××¨

def would_form_sos(self, x, y, letter):
    """×‘×•×“×§×ª ×× ×”× ×—×ª ×”××•×ª `letter` ×‘×ª× `(x, y)` ×ª×™×¦×•×¨ 'SOS'."""
    temp_board = [row[:] for row in self.board]  # ×™×¦×™×¨×ª ×¢×•×ª×§ ×–×× ×™
    temp_board[x][y] = letter  # × × ×¡×” ××ª ×”××”×œ×š
    
    # ×œ×‘×“×•×§ ×× ×–×” ×™×•×¦×¨ "SOS"
    directions = [(1, 0), (0, 1), (1, 1), (1, -1)]
    for dx, dy in directions:
        for start in [-2, -1, 0]:
            seq = [temp_board[x + (start + i) * dx][y + (start + i) * dy] 
                   for i in range(3) 
                   if 0 <= x + (start + i) * dx < 8 and 0 <= y + (start + i) * dy < 8]
            if seq == ['S', 'O', 'S']:
                return True  # ×œ×¤×—×•×ª ××”×œ×š ××—×“ ××¤×©×¨×™
    
    return False  # ×œ× × ××¦× ××£ ××”×œ×š ×©××•×‘×™×œ ×œ-"SOS"
```
### ğŸ¯ ×™×ª×¨×•× ×•×ª ×”×©×™×¤×•×¨:
âœ… ×”××©×—×§ ××¡×ª×™×™× ××•×§×“× ×™×•×ª×¨ ×× ××™×Ÿ ×¢×•×“ ××”×œ×›×™× ××•×¢×™×œ×™×.  
âœ… ×©×™×¤×•×¨ ×‘×™×¦×•×¢×™× â€“ ××¤×©×¨ ×œ×¢×¦×•×¨ ××•×§×“× ×‘××§×•× ×œ×—×›×•×ª ×¢×“ ×©×”×œ×•×— ×™×ª××œ×.  
âœ… ××•×¢×™×œ ×œ××œ×’×•×¨×™×ª× ×—×™×¤×•×© ×›××• MCTS, ×©×™×›×•×œ ×œ×—×ª×•×š ×¢× ×¤×™× ××™×•×ª×¨×™×.  

---

## 3. `check_sos(x, y)` ×™×›×•×œ ×œ×”×™×•×ª ×™×¢×™×œ ×™×•×ª×¨
### âŒ ××” ×”×‘×¢×™×”?
×›×¨×’×¢ ×”×¤×•× ×§×¦×™×” `check_sos(x, y)` ×¡×•×¨×§×ª ××ª ×›×œ ×”×›×™×•×•× ×™× ××—×“×© ×‘×›×œ ××”×œ×š, ×’× ×× ×™×“×•×¢ ×©××¤×©×¨×•×™×•×ª ××¡×•×™××•×ª ×œ× ×¨×œ×•×•× ×˜×™×•×ª.

### âœ… ×©×™×¤×•×¨ ××•×¦×¢
×‘××§×•× ×œ×‘×“×•×§ ××ª ×›×œ ×”×œ×•×— ×‘×›×œ ×¤×¢×, × ×‘×“×•×§ ×¨×§ ××ª ×”××–×•×¨ ×”×§×¨×•×‘ ×œ××”×œ×š ×”××—×¨×•×Ÿ.

### ğŸ”¹ ××™××•×© ××©×•×¤×¨ ×©×œ `check_sos`:
```python
def check_sos(self, x, y):
    points = 0
    directions = [(1, 0), (0, 1), (1, 1), (1, -1)]
    
    for dx, dy in directions:
        seq = [self.board[x + i * dx][y + i * dy] for i in range(-1, 2) 
               if 0 <= x + i * dx < 8 and 0 <= y + i * dy < 8]
        if len(seq) == 3 and seq == ['S', 'O', 'S']:
            points += 1
    
    return points
```
### ğŸ¯ ×™×ª×¨×•× ×•×ª ×”×©×™×¤×•×¨:
âœ… ×‘××§×•× ×œ×‘×“×•×§ ××ª ×›×œ ×”×œ×•×—, ×”×¤×•× ×§×¦×™×” ×‘×•×“×§×ª ×¨×§ ××ª ×”××©×‘×¦×•×ª ×¡×‘×™×‘ ×”××”×œ×š ×”××—×¨×•×Ÿ.  
âœ… ×‘×™×¦×•×¢×™ ×”×—×™×¤×•×© ××©×ª×¤×¨×™× ××©××¢×•×ª×™×ª.  
âœ… ×—×•×¡×š ×–××Ÿ ×—×™×©×•×‘ ×•×××¤×©×¨ ××”×™×¨×•×ª ×’×‘×•×”×” ×™×•×ª×¨ ×‘××œ×’×•×¨×™×ª××™× ××‘×•×¡×¡×™ ×—×™×–×•×§ ×•×œ××™×“×”.  

---

## ×¡×™×›×•× ×”×©×™×¤×•×¨×™× ğŸš€

| ×©×™×¤×•×¨ | ×‘×¢×™×” ×‘×§×•×“ ×”××§×•×¨×™ | ×¤×ª×¨×•×Ÿ | ×™×ª×¨×•× ×•×ª |
|--------|----------------|--------|----------|
| `unmake_move` | ×œ× ××—×–×™×¨ ××ª ×”× ×™×§×•×“ ×”×§×•×“× | ×©×™××•×© ×‘-Stack ×œ××—×¡×•×Ÿ ×”×™×¡×˜×•×¨×™×™×ª ××”×œ×›×™× | ×—×–×¨×” ××“×•×™×§×ª ×¢×œ ××”×œ×›×™× ×¢×‘×•×¨ MCTS |
| `check_game_over` | ××–×”×” ×¡×™×•× ×¨×§ ×›×©×”×œ×•×— ××œ× | ×‘×“×™×§×” ×× ×§×™×™××™× ××”×œ×›×™× ××¤×©×¨×™×™× ×œ-"SOS" | ×¢×¦×™×¨×ª ××©×—×§ ××•×§×“××ª ×™×•×ª×¨ |
| `check_sos` | ×‘×•×“×§ ×™×•×ª×¨ ××“×™ ××¦×‘×™× | ×‘×“×™×§×” ×—×›××” ×©×œ ×¡×‘×™×‘×ª ×”××”×œ×š ×”××—×¨×•×Ÿ ×‘×œ×‘×“ | ×©×™×¤×•×¨ ××©××¢×•×ª×™ ×‘×‘×™×¦×•×¢×™× |

### ×”×ª×•×¦××”? ğŸš€  
××©×—×§ ×—×›× ×•××”×™×¨ ×™×•×ª×¨, ×¢× ×ª××™×›×” ×˜×•×‘×” ×™×•×ª×¨ ×‘×œ××™×“×ª ×—×™×–×•×§ ×•××œ×’×•×¨×™×ª××™× ×›××• MCTS!  
